@{
    ViewBag.Title = "Reviews";
    ViewBag.NavItem = "Reviews";
}

<div class="row" ng-app="app" ng-cloak>
    <div ng-controller="Ctrl">
        <div ng-show="vm.isEmpty()">
            <p class="text-center">
                You haven't done any reviews yet. Please go to the @Html.ActionLink("Requests", "Requests", "Reviews") page to pick up an exercise for reviewing.            </p>
            <br />&nbsp;
        </div>

        <div class="col-md-offset-1 col-md-10" ng-hide="vm.isEmpty()">
            <hr class="app-separator" />
            <table id="reviewstable" class="table table-condensed">
                <thead>
                    <tr>
                        <th>Started</th>
                        <th>Finished</th>
                        <th style="text-align: right;">Reward</th>
                        <th>Exercise author</th>
                    </tr>
                </thead>
                <tbody ng-repeat="r in vm.reviews">
                    <tr>
                        <td>
                            <a ng-href="{{App.Utils.reviewsUrl('edit/' + e.id)}}">{{r.startTime | appDateTime}}</a>                            
                        </td>
                        <td>
                            {{r.finishTime | appDateTime}}
                        </td>
                        <td style="text-align: right;">
                            {{r.reward | number:2}}
                        </td>
                        <td>
                            {{r.authorName}}
                        </td>
                    </tr>
                </tbody>
            </table>

            <pagination class="pagination-sm" total-items="vm.totalCount" items-per-page="vm.limit" ng-model="vm.currentPage" ng-change="vm.getReviews()" max-size="10" boundary-links="true" rotate="false"></pagination>
        </div>
    </div>
</div>

@using (Html.BeginInstructionsContainer())
{
    <li>&nbsp;</li>
}

@section BottomScripts {
    @Scripts.Render(
"~/bundles/angular",
"~/bundles/angular-bootstrap",
"~/bundles/angular-libs",
"~/bundles/ext-libs",
"~/bundles/app-utils",

"~/App/Reviews/index-app.js"
)}
