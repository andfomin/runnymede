<h3 class="page-header">{{pageTitle}}</h3>

<div class="row">
    <div class="col-md-2">
        <div class="panel panel-default">
            <div class="panel-body">
                <button class="btn btn-primary" data-ng-click="vm.showCreateOfferModal()">Offer time</button>
                <br />
            </div>
        </div>
    </div>
    <div class="col-md-10">
        <div data-ui-calendar="vm.calConfig" data-ng-model="vm.eventSources" data-calendar="calObj"></div>
    </div>
</div>

<!-- Modals -->
<!-- createOfferModal.html -->
<script type="text/ng-template" id="createOfferModal.html">
    <div class="modal-header">
        <h3>Offer Skype Session</h3>
    </div>
    <div class="modal-body">
        <div class="row">
            <div class="col-md-offset-1 col-md-10">
                <p>Announce a period of your availability on Skype, so other people will be able to request a session with you. Enter the start and the end of the period of availability.</p>
                <p>Current time: {{vm.now | appDate}}</p>
                <div class="form-group">
                    <label for="startDropdown">Start</label>
                    <div class="dropdown">
                        <a class="dropdown-toggle" id="startDropdown" role="button" data-toggle="dropdown" data-target="#" href="javascript:;">
                            <div class="input-group">
                                <input type="text" class="form-control" data-ng-model="vm.start">
                                <span class="input-group-addon"><i class="glyphicon glyphicon-calendar"></i></span>
                            </div>
                        </a>
                        <ul class="dropdown-menu" role="menu">
                            <datetimepicker data-ng-model="vm.start" data-datetimepicker-config="{ dropdownSelector: '#startDropdown', minuteStep: 15 }" data-ng-required="true" />
                        </ul>
                    </div>
                </div>
                <div class="form-group">
                    <label for="endDropdown">End</label>
                    <div class="dropdown">
                        <a class="dropdown-toggle" id="endDropdown" role="button" data-toggle="dropdown" data-target="#" href="javascript:;">
                            <div class="input-group">
                                <input type="text" class="form-control" data-ng-model="vm.end">
                                <span class="input-group-addon"><i class="glyphicon glyphicon-calendar"></i></span>
                            </div>
                        </a>
                        <ul class="dropdown-menu" role="menu">
                            <datetimepicker data-ng-model="vm.end" data-datetimepicker-config="{ dropdownSelector: '#endDropdown', minuteStep: 15 }" data-ng-required="true" />
                        </ul>
                    </div>
                </div>

                The duration of the period is{{vm.displyDuration()}}.
            </div>
        </div>
    </div>

    <div class="modal-footer">
        <button class="btn btn-primary" data-ng-click="vm.save()" data-ng-disabled="!vm.canSave()">OK</button>
        <button class="btn btn-default" data-ng-click="vm.cancel()">Cancel</button>
    </div>
</script>
<!-- /createOfferModal.html -->
<!-- revokeOfferModal.html -->
<script type="text/ng-template" id="revokeOfferModal.html">
    <div class="modal-header">
        <h3>Revoke Offer of Sessions</h3>
    </div>
    <div class="modal-body">
        <div class="row">
            <div class="col-md-offset-1 col-md-10">
                <p>
                    You are going to void the announced period of availability
                    <br />
                    from <strong>{{vm.event.start.toDate() |appDate }}</strong>
                    <br />
                    to <strong>{{vm.event.end.toDate() | appDate }}</strong>.
                </p>
                <p>Note: This action will not change the status of existing session requests and confirmed sessions.</p>
            </div>
        </div>
    </div>

    <div class="modal-footer">
        <button class="btn btn-primary" data-ng-click="vm.ok()" data-ng-disabled="vm.sending">OK</button>
        <button class="btn btn-default" data-ng-click="vm.cancel()">Cancel</button>
    </div>
</script>
<!--/ revokeOfferModal.html -->
<!-- /Modals -->
