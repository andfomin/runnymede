<p class="text-right">
    You are signed in as <strong>{{vm.userName}}</strong>. <a href="#/logins">Manage&nbsp;logins.</a>
</p>
<p class="text-right" ng-if="vm.profile.isTeacher">
    You have got the <strong>Teacher</strong> status. <a href="#/teacher">Edit your teacher profile.</a>
</p>
<!--<div data-ng-if="vm.profile.isTeacher">
    <hr class="app-separator" />
    <p>
        You have got the <strong>Teacher</strong> status.
        <a href="#/teacher">Edit your teacher profile.</a>
    </p>
</div>-->
<div class="alert alert-warning text-center" role="alert">
    All personal information entered on this page will be publicly visible.
</div>
<hr />

<!--<p ng-show="vm.profile.emailConfirmed">
    Email address <strong>{{vm.profile.email}}</strong>
</p>
<form class="form-horizontal" name="emailForm" role="form" ng-show="!vm.profile.emailConfirmed" novalidate>
    <div class="form-group">
        <label class="col-sm-4 control-label" for="email">Email address</label>
        <div class="col-sm-4">
            <input type="email" id="email" name="email" class="form-control" ng-model="vm.newEmail" />
        </div>
        <div class="col-sm-4" style="padding-top: 7px;">
            <span class="text-danger">Not verified</span>
            &nbsp;&nbsp; <span ng-show="vm.linkSent"><small>Verification link sent</small></span>
        </div>
    </div>
    <div class="form-group" ng-hide="vm.linkSent">
        <div class="col-sm-offset-4 col-sm-6">
            <button type="submit" class="btn btn-default btn-sm app-btn-disablable" ng-click="vm.sendEmailLink()" ng-disabled="vm.sending">Send verification link</button>
        </div>
    </div>
</form>
<hr />-->

<form class="form-horizontal" name="mainForm" role="form" novalidate>
    <div class="form-group">
        <label class="col-sm-4 control-label" for="displayName">Name</label>
        <div class="col-sm-8">
            <div class="row">
                <div class="col-sm-6">
                    <input type="text" id="displayName" class="form-control" name="displayName" ng-model="vm.profile.displayName" ng-maxlength="100" />
                    <!-- Your pen name will appear alongside anything you post to the site. -->
                </div>
                <div class="col-sm-6">
                    <span data-ng-show="vm.displayNameChanged"><small class="text-success">Name changed. You will see the new name in the top bar after you log out and log in again.</small></span>
                </div>
            </div>
        </div>
    </div>
    <div class="form-group">
        <label class="col-sm-4 control-label" for="skypeName">Skype name</label>
        <div class="col-sm-8">
            <div class="row">
                <div class="col-sm-6">
                    <input type="text" id="skypeName" class="form-control" name="skypeName" ng-model="vm.profile.skypeName" ng-maxlength="100" />
                </div>
                <div class="col-sm-6">
                    <span data-ng-show="vm.skypeNameChanged"><small class="text-success">Skype name changed.</small></span>
                </div>
            </div>
        </div>
    </div>
    <div class="form-group">
        <div class="col-sm-offset-4 col-sm-6">
            <button type="submit" class="btn btn-default btn-sm app-btn-disablable" ng-click="vm.saveMain(mainForm)" ng-disabled="mainForm.$pristine || vm.sending">
                <!--<i class="fa-fw text-success" ng-class="mainForm.$dirty ? 'fa fa-check animated flash app-fa-pulse' : ''"></i><span>&nbsp;Save changes</span>-->
                Save changes
            </button>
        </div>
    </div>
</form>
<hr />
<div class="row">
    <div class="col-xs-4">
        <div class="text-center">
            <p><strong>Avatar picture</strong></p>
            <img class="img-circle" ng-src="{{vm.avatarLargeUrl}}" width="96" height="96" />
            <img class="img-circle" style="margin-left:10px;margin-top:10px;" ng-src="{{vm.avatarSmallUrl}}" width="32" height="32" />
        </div>
    </div>
    <div class="col-xs-8">
        <p>Upload a new picture file</p>
        <!-- upload-options-before-submit does not work and causes failure -->
        <form method='post' name="avatarForm" action="upload-avatar" ng-upload="vm.uploadComplete(content)" ng-upload-loading="vm.startUploading()">
            <input type="file" name="fileInput" id="fileInput" accept="image/*" onchange="app.account_edit.Personal.onFileChange()" />
            <p class="small text-muted">Maximum file size 5 MB</p>
            <button type="submit" class="btn btn-default btn-sm app-btn-disablable" ng-disabled="!vm.canUpload() || $isUploading">Upload</button>
            <i class="fa fa-spinner fa-spin" ng-show="$isUploading"></i>
        </form>
    </div>
</div>
<hr />
<form class="form-horizontal" name="anntForm" role="form" novalidate>
    <div class="form-group">
        <label class="col-md-2 control-label" for="annt">Short announcement</label>
        <div class="col-md-8">
            <textarea id="annt" name="annt" class="form-control app" rows="4" ng-model="vm.profile.announcement" maxlength="200"></textarea>
        </div>
        <div class="col-md-2">
            <span><small class="text-muted app">maximum 200 characters</small></span><br />
            <span ng-show="vm.anntChanged"><small class="text-success">Short announcement changed.</small></span>
        </div>
    </div>
    <div class="form-group">
        <div class="col-md-offset-2 col-md-6">
            <button type="submit" class="btn btn-default btn-sm app-btn-disablable" ng-click="vm.saveAnnt(anntForm)" ng-disabled="anntForm.$pristine || vm.sending">Save changes</button>
        </div>
    </div>
</form>
<hr />
<form class="form-horizontal" name="presenForm" role="form" novalidate>
    <div class="form-group">
        <label class="col-md-2 control-label" for="presen">Long presentation</label>
        <div class="col-md-8">
            <textarea id="presen" name="presen" class="form-control app" rows="10" ng-model="vm.profile.presentation" maxlength="2000"></textarea>
        </div>
        <div class="col-md-2">
            <span><small class="text-muted app">maximum 2000 characters</small></span><br />
            <span ng-show="vm.presenChanged"><small class="text-success">Long presentation changed.</small></span>
        </div>
    </div>
    <div class="form-group">
        <div class="col-md-offset-2 col-md-6">
            <button type="submit" class="btn btn-default btn-sm app-btn-disablable" ng-click="vm.savePresen(presenForm)" ng-disabled="presenForm.$pristine || vm.sending">Save changes</button>
        </div>
    </div>
</form>

